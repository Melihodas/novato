(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1680:function(e,t,s){"use strict";s.d(t,"a",function(){return n});const n=(e,t)=>Intl.NumberFormat(navigator.language,t).format(e)},1763:function(e,t,s){"use strict";s.d(t,"a",function(){return o});var n=s(6),r=s(52),a=s(56);const o=(e,t)=>{return Object(r.connect)(void 0,e=>({listen:(s,n)=>{e(Object(a.c)({userId:n,channelId:s,realtime:t.realtime}))},unlisten:(s,n)=>{e(Object(a.d)({userId:n,channelId:s,realtime:t.realtime}))}}))(class extends n.PureComponent{componentDidMount(){this.props.userId&&this.props.listen(this.props.channelId,this.props.userId)}componentDidUpdate(e){this.props.userId===e.userId&&this.props.channelId===e.channelId||(e.userId&&this.props.unlisten(e.channelId,e.userId),this.props.userId&&this.props.listen(this.props.channelId,this.props.userId))}componentWillUnmount(){this.props.userId&&this.props.unlisten(this.props.channelId,this.props.userId)}render(){return n.createElement(e,this.props)}})}},1792:function(e,t,s){"use strict";s.d(t,"a",function(){return o});var n=s(6),r=s(52),a=s(1683);const o=(e,t)=>{return Object(r.connect)((t,s)=>({enabled:Object(a.b)(t,s.channelId,s[e])}))(class extends n.PureComponent{render(){return this.props.enabled?n.createElement(t,this.props):null}})}},1811:function(e,t,s){"use strict";s.d(t,"a",function(){return r});var n=s(4),r=(Object(n.createStandardAction)("@Chat/ADD_PIN")(),Object(n.createStandardAction)("@Chat/PIN_MESSAGE")(),Object(n.createStandardAction)("@Chat/UPDATE_CHAT_PINNING_LIST")(),Object(n.createStandardAction)("@Chat/RE_RENDER_CHAT_PINNING")());Object(n.createStandardAction)("@Chat/DELETE_PIN")(),Object(n.createAsyncAction)("@chat/FETCH_PIN_HISTORY_REQUEST","@chat/FETCH_PIN_HISTORY_SUCCESS","@chat/FETCH_PIN_HISTORY_FAILURE")(),Object(n.createStandardAction)("@chat/TELEMETRY_CHAT_PIN_HOVERED")()},1854:function(e,t,s){e.exports={badge:"badge_3LFXw"}},1855:function(e,t,s){e.exports={header:"header_3_-sm",bg:"bg_XlG-z",badge:"badge_13TwR",content:"content_2uzO_",tvHeader:"tvHeader_1nVHu"}},1856:function(e,t,s){e.exports={badge:"badge_3nSBh",dramatic:"dramatic_xrelD",rays:"rays_lfVLe",ray:"ray_YwviB","level-entrance":"level-entrance_3w85u"}},1857:function(e,t,s){e.exports={text:"text_1dQeX",xp:"xp_zXzzg",rank:"rank_C68PN",progress:"progress_3LBiV"}},1858:function(e,t,s){e.exports={title:"title_Wp5DV",item:"item_2RESZ",icon:"icon_1ET3C",value:"value_JC3uD"}},1859:function(e,t,s){e.exports={host:"host_1ECkN",tvWrapper:"tvWrapper_5UpLV"}},1860:function(e,t,s){e.exports={tooltip:"tooltip_ScPgY",content:"content_1OTgc"}},1861:function(e,t,s){e.exports={exclamation:"exclamation_1RJbC"}},1862:function(e,t,s){e.exports={loader:"loader_2Ldsu",spin:"spin_1ZdbO"}},1863:function(e,t,s){e.exports={badge:"badge_3_X9a",pulse:"pulse_QFHv9",wrapper:"wrapper_2hlPN",to:"to_1HQo1",particle:"particle_3H7Kf",animated:"animated_2Xc-d",from:"from_aByMA",burstOut:"burstOut_14p9j",burstIn:"burstIn_2A5Yp",static:"static_2HTQY",staticBoop:"staticBoop_2vaT7",glow:"glow_3Zjac"}},1864:function(e,t,s){e.exports={bubble:"bubble_2vHIy",flyup:"flyup_GuJm_",icon:"icon_2jv4i",backdrop:"backdrop_sQL1N",flash:"flash_3U0pb"}},1865:function(e,t,s){e.exports={badge:"badge_3QuKt"}},2017:function(e,t,s){"use strict";s.d(t,"a",function(){return d});var n=s(33),r=s(6),a=s(52),o=s(56),i=s(128),c=s(1854),p=s(1763),l=s(1792);class h extends r.PureComponent{componentDidMount(){Object(n.b)(this.props.levels)&&this.throttleAttempt()}render(){const{levels:e,size:t=12}=this.props,s=2===e.state&&e.value.levels.find(e=>e.level===this.props.level);if(!s)return null;const n=Math.round(.8*t);let a=`url(${Object(i.g)(s.assetsUrl)}) 4px / ${n}px no-repeat,`;return s.gradient?a+=`linear-gradient(to right, ${s.color}, ${s.complement})`:a+=s.color,r.createElement("span",{className:c.badge,style:{fontSize:t,paddingLeft:t+6,background:a}},s.level)}throttleAttempt(){h.didAttempt||(h.didAttempt=!0,this.props.getLevels(this.props.channelId),setTimeout(()=>{h.didAttempt=!1}))}}h.didAttempt=!1;const u=Object(a.connect)((e,t)=>({levels:Object(i.j)(t.channelId)(e)}),e=>({getLevels:t=>{e(o.f.request({channelId:t}))}}))(h),d=Object(l.a)("currentUserId",Object(p.a)(u,{realtime:!1}))},2018:function(e,t,s){"use strict";s.d(t,"a",function(){return r});var n=s(4),r=(Object(n.createStandardAction)("@chat/SET_CONNECTION_STATUS")(),Object(n.createStandardAction)("@chat/DISCONNECT_CHAT_SERVER")());Object(n.createStandardAction)("@chat/CONNECT_CHAT_SERVER")(),Object(n.createStandardAction)("@chat/SET_CONNECTION_ALERT_VIS")(),Object(n.createStandardAction)("@chat/TELEMETRY_SOCKET_ERROR")()},2068:function(e,t,s){"use strict";var n=s(6),r=s(52),a=s(128),o=s(153),i=s(383),c=s(1763),p=s(44),l=s(1860);class h extends n.PureComponent{constructor(){super(...arguments),this.close=e=>{e.preventDefault(),this.props.close()}}render(){return n.createElement("div",{className:l.tooltip},n.createElement("div",{className:l.content,role:"tooltip"},n.createElement("span",{style:{flex:1}},"Melhore a classificação no canal de " + this.props.channelName + "! "),n.createElement(p.BuiBtn,{icon:!0,onClick:this.close,"aria-label":"Cancelar"},n.createElement(p.BuiIcon,{icon:"Close"}))))}}var u=s(1792),d=s(1865),m=s(1680),b=s(1864);const g=1500;class v extends n.PureComponent{componentDidMount(){this.completeTimeout=setTimeout(()=>this.props.onComplete(this.props.id),g)}componentWillUnmount(){clearTimeout(this.completeTimeout)}render(){const{color:e,complement:t}=this.props.level;return n.createElement("div",{className:b.bubble,style:{left:`${50+this.props.offsetLeft}%`,bottom:`${100-this.props.offsetTop}%`}},n.createElement("span",{"aria-label":"Você adquiriu experiência de " + this.props.amount + "! "},"+",n.createElement(p.BuiIcon,{hostClass:b.icon,set:"mixer",icon:"MixerHeartSolid"}),Object(m.a)(this.props.amount),n.createElement("div",{className:b.backdrop,style:{background:`linear-gradient(${e}, ${t})`}})))}}var E=s(1863);const f=8;class O extends n.PureComponent{constructor(e){super(e),this.state={started:!1},this.particles=[];const t=360/f;for(let e=0;e<f;e++)this.particles.push(n.createElement("div",{key:e,className:E.particle,style:{transform:`rotate(${e*t}deg) translateX(${.6*this.props.size}px)`}}))}componentDidMount(){this.timeout=setTimeout(()=>{this.setState({started:!0}),this.timeout=setTimeout(this.props.onComplete,1e3)},500)}componentWillUnmount(){clearTimeout(this.timeout)}render(){const{color:e,complement:t}=this.state.started?this.props.to:this.props.from;return n.createElement("div",{style:{color:e},className:Object(p.classes)([this.state.started&&E.animated,E.wrapper])},n.createElement("div",{className:E.pulse,style:{background:`linear-gradient(-45deg, ${e}, ${t})`}}),this.particles,this.props.to.level!==this.props.from.level?n.createElement(n.Fragment,null,n.createElement("div",{className:Object(p.classes)([E.badge,E.to])},this.props.toBadge()),n.createElement("div",{className:Object(p.classes)([E.badge,E.from])},this.props.fromBadge())):n.createElement("div",{className:Object(p.classes)([E.badge,E.static])},this.props.toBadge()))}}class C extends n.PureComponent{render(){const{size:e,color:t,lineWidth:s,progress:r,hostClass:a}=this.props,o=e*Math.PI,i=this.props.size/2,c=1===r?0:(1-.95*r)*o;return n.createElement("svg",{width:e,height:e,viewBox:`0 0 ${e} ${e}`,style:{transform:"rotate(-90deg)",display:"block"},className:a},n.createElement("circle",{cx:i,cy:i,r:i-s/2,fill:"none",stroke:t,strokeWidth:s,style:{strokeDasharray:o,strokeDashoffset:c,transition:"500ms"}}))}}const _=.75;class N extends n.PureComponent{constructor(e){super(e),this.xpEarningIdCounter=0,this.renderTransitionFromBadge=()=>this.renderBadge(this.state.current.assetsUrl),this.renderTransitionToBadge=()=>this.renderBadge(this.state.transitionTo.assetsUrl),this.clearBubble=e=>{this.setState({earnings:this.state.earnings.filter(t=>t.id!==e)})},this.finishTransition=()=>{this.setState({current:this.props.progression,transitionTo:void 0,progress:Object(a.i)(this.props.progression)})},this.state={progress:Object(a.i)(this.props.progression),current:this.props.progression,earnings:[]}}componentDidUpdate(e){if(!this.state.transitionTo&&(this.props.progression===this.state.current||this.state.transitionTo||this.updateStateLevelAndProgress(),e.progression.currentXp<this.props.progression.currentXp)){const t=this.state.earnings.length,s={amount:this.props.progression.currentXp-e.progression.currentXp,id:this.xpEarningIdCounter++,pushX:t*(Math.random()-.5)*10,pushY:t*Math.random()*10};this.setState({earnings:this.state.earnings.concat(s)})}}render(){return n.createElement(n.Fragment,null,n.createElement(C,{progress:this.state.progress,lineWidth:2,size:this.props.size,color:this.state.current.color}),this.state.transitionTo?n.createElement(O,{size:this.props.size,from:this.state.current,to:this.state.transitionTo,fromBadge:this.renderTransitionFromBadge,toBadge:this.renderTransitionToBadge,onComplete:this.finishTransition}):this.renderBadge(this.state.current.assetsUrl),this.state.earnings.map(e=>n.createElement(v,{level:this.state.current,key:e.id,amount:e.amount,id:e.id,offsetLeft:e.pushX,offsetTop:e.pushY,onComplete:this.clearBubble})))}renderBadge(e){let t=Math.floor(this.props.size*_);t%2==1&&t++;const s=this.props.size/2;return n.createElement("img",{className:d.badge,src:Object(a.k)(e),style:{width:t,top:s+t/-2,left:s+t/-2}})}updateStateLevelAndProgress(){const e=Object(a.i)(this.props.progression),t=this.state.current.level,s=this.props.progression.level;s!==t?this.setState({transitionTo:this.props.progression,progress:s>t?1:0}):this.state.progress!==e&&this.setState({progress:e})}}var I=s(1861);class T extends n.PureComponent{render(){return n.createElement(n.Fragment,null,n.createElement(C,{progress:1,lineWidth:2,size:this.props.size,color:"#f00"}),n.createElement("span",{className:I.exclamation},"!"))}}var S=s(1859),x=s(1862);class j extends n.PureComponent{render(){return n.createElement("div",{className:x.loader,style:{fontSize:this.props.size}})}}s.d(t,"a",function(){return A});const w=Object(r.connect)((e,{channelId:t})=>({progression:Object(a.e)(t)(e),tooltip:Object(i.b)(e)}),e=>({closeTooltip(){e(Object(o.a)())}}))(Object(c.a)(class extends n.PureComponent{constructor(){super(...arguments),this.onClick=e=>{!e.defaultPrevented&&this.props.onClick&&(this.props.onClick(),this.props.tooltip&&this.props.closeTooltip())},this.onKeyDown=e=>{"Enter"===e.key&&this.onClick(e)}}componentDidMount(){2===this.props.progression.state&&this.props.onExperienceChange&&this.props.onExperienceChange(this.props.progression.value.currentXp)}componentDidUpdate(e){2===e.progression.state&&2===this.props.progression.state&&this.props.onExperienceChange&&e.progression.value.currentXp!==this.props.progression.value.currentXp&&this.props.onExperienceChange(this.props.progression.value.currentXp)}render(){const e=2===this.props.progression.state;return n.createElement("div",{className:S.host,onKeyDown:this.onKeyDown,onClick:this.onClick,role:"button",tabIndex:e?0:-1,"aria-hidden":!e,"aria-label":2===this.props.progression.state?"Você tem a classificação " + this.props.progression.value.level + ". Pressione Enter para saber mais ":void 0},this.props.tooltip&&n.createElement(h,{channelName:this.props.tooltip.channelName,close:this.props.closeTooltip}),this.getContents())}getContents(){return 3===this.props.progression.state?n.createElement(T,{size:this.props.size}):2!==this.props.progression.state?n.createElement(j,{size:this.props.size}):n.createElement(N,{progression:this.props.progression.value,size:this.props.size})}},{realtime:!0})),A=Object(u.a)("userId",w)},2070:function(e,t,s){"use strict";var n=s(33),r=s(6),a=s(52),o=s(56),i=s(128),c=s(153),p=s(383),l=s(1763),h=s(44),u=s(1856);const d=(e,t)=>{const s=[],n=360/e;for(let a=0;a<e;a++)s.push(r.createElement("div",{key:a,className:u.ray,style:{height:.1*t+Math.random(),width:.8*t+Math.random()*t*.2,transform:`perspective(100px) rotateZ(${n*a}deg) rotateY(-60deg)`,animationDelay:`-${Math.random()}s`}}));return s};class m extends r.PureComponent{constructor(){super(...arguments),this.rays=d(15,this.props.haloSize||this.props.size)}render(){return r.createElement("div",{className:Object(h.classes)([u.badge,this.props.hostClass,this.props.dramatic&&u.dramatic]),style:{color:this.props.level.color}},r.createElement("div",{className:u.rays},this.rays),r.createElement("img",{src:Object(i.h)(this.props.level.assetsUrl),role:"presentation",style:{width:this.props.size}}))}}var b=s(1680),g=s(1857);class v extends r.PureComponent{render(){const e="Classificação " + this.props.current.level + ", " + this.props.current.currentXp + " de " + this.props.current.nextLevelXp + " corações. ";return r.createElement("div",{"aria-label":e},r.createElement("div",{className:g.text},r.createElement("span",{className:g.rank},"Classificação " + this.props.current.level + "",":"),r.createElement("span",{className:g.xp},r.createElement(h.BuiIcon,{set:"mixer",icon:"MixerHeartSolid"})," ",this.renderXpText())),r.createElement(h.ProgressBar,{progress:Object(i.i)(this.props.current),foreground:this.props.current.color,background:"#171E2A",height:6,className:g.progress}))}renderXpText(){const{next:e,current:t}=this.props;return e?`${Object(b.a)(t.currentXp-t.minXp)} / ${Object(b.a)(e.minXp-t.minXp)}`:`${Object(b.a)(t.currentXp)} / ∞`}}var E=s(1855);class f extends r.PureComponent{render(){const e=this.props.levels.find(e=>e.level===this.props.userLevel.level+1),t=2===this.props.channel.state&&this.props.channel.value.name;return r.createElement("div",{className:Object(h.classes)({[E.header]:!0,[E.tvHeader]:!!this.props.isTv})},r.createElement("h1",null,"Ganhe corações para melhorar sua classificação",r.createElement("small",null,t&&"No canal de " + t + "")),r.createElement(m,{hostClass:E.badge,size:120,haloSize:100,level:this.props.userLevel}),r.createElement(v,{current:this.props.userLevel,next:e}),r.createElement("div",{className:E.bg,style:{background:`linear-gradient(${this.props.userLevel.color}, ${this.props.userLevel.complement})`}}))}}var O=s(1858);const C=e=>r.createElement("div",{className:O.item},r.createElement(h.BuiIcon,{set:"mixer",icon:e.icon,hostClass:O.icon}),r.createElement("div",null,r.createElement("h3",null,e.title),r.createElement("p",null,e.description)),r.createElement("span",{className:O.value},r.createElement(h.BuiIcon,{set:"mixer",icon:"MixerHeartSolid","aria-label":"Valor de Corações"})," ",Object(b.a)(e.value))),_=e=>!(!e||!e.weight),N=e=>Math.round(1/e*10);class I extends r.PureComponent{render(){return r.createElement(r.Fragment,null,r.createElement("h2",{className:O.title},"Como Melhorar sua Classificação"),T(this.props.weights,this.props.channelName))}}const T=(e,t)=>r.createElement(r.Fragment,null,_(e.watch)&&r.createElement(C,{title:"Assistir",description:"Ganhe Corações para cada cinco minutos que você assiste a " + t + "",icon:e.watch.icon,value:e.watch.weight}),_(e.chat)&&r.createElement(C,{title:"Bate-papo",description:"Ganhe Corações ao participar do bate-papo no canal de " + t + "",icon:e.chat.icon,value:e.chat.weight}),_(e.applause)&&r.createElement(C,{title:"Aplausos",description:"Ganhe Corações ao receber aplausos no canal de " + t + "",icon:e.applause.icon,value:e.applause.weight}),_(e.follow)&&r.createElement(C,{title:"Seguir",description:"Ganhe Corações ao seguir " + t + "",icon:e.follow.icon,value:e.follow.weight}),_(e.subscribe)&&r.createElement(C,{title:"Assinar",description:"Ganhe Corações ao assinar " + t + "",icon:e.subscribe.icon,value:e.subscribe.weight}),_(e.sendSubGift)&&r.createElement(C,{title:"Assinatura de Presente",description:"Ganhe Corações ao dar assinaturas de presente para outros espectadores",icon:e.sendSubGift.icon,value:e.sendSubGift.weight}),_(e.spark)&&r.createElement(C,{title:"Sparks",description:`Support broadcasters and earn 10 Hearts for every ${N(e.spark.weight)} Sparks spent`,icon:e.spark.icon,value:10}),_(e.ember)&&r.createElement(C,{title:"Embers",description:"Apoie transmissores e ganhe Corações para cada Ember gasto",icon:e.ember.icon,value:e.ember.weight}));s.d(t,"a",function(){return S});const S=Object(a.connect)((e,{channelId:t})=>({userLevel:Object(i.e)(t)(e),levels:Object(i.j)(t)(e),channelData:Object(p.a)(t)(e)}),e=>({opened(t){e(Object(c.b)({level:t}))},getChannelData(t){e(c.c.request({channelId:t}))},loadLevels(t){e(o.f.request({channelId:t}))}}))(Object(l.a)(class extends r.PureComponent{componentDidMount(){this.loadDataAndLevelsIfNecessary(),this.sendOpenData()}componentDidUpdate(e){e.channelId!==this.props.channelId?(this.loadDataAndLevelsIfNecessary(),this.sendOpenData()):this.props.userLevel.state!==e.userLevel.state&&this.sendOpenData()}render(){if(2!==this.props.levels.state||2!==this.props.userLevel.state)return null;const e=2===this.props.channelData.state?this.props.channelData.value:void 0;return r.createElement(r.Fragment,null,r.createElement(f,{levels:this.props.levels.value.levels,userLevel:this.props.userLevel.value,channel:this.props.channelData,isTv:!1}),e&&r.createElement(I,{weights:this.props.levels.value.weights,channelName:e.name,isPartner:e.partner}))}loadDataAndLevelsIfNecessary(){Object(n.b)(this.props.levels)&&this.props.loadLevels(this.props.channelId),Object(n.b)(this.props.channelData)&&this.props.getChannelData(this.props.channelId)}sendOpenData(){2===this.props.userLevel.state&&this.props.opened(this.props.userLevel.value.level)}},{realtime:!0}))},2220:function(e,t,s){"use strict";s.d(t,"a",function(){return r});var n=s(4),r=(Object(n.createAction)("@CHAT/OPEN_CHAT_DIALOG",function(e){return function(t){return e(t)}}),Object(n.createAction)("@CHAT/CLOSE_CHAT_DIALOG",function(e){return function(t){return e({dialog:t})}}),Object(n.createStandardAction)("@chat/TOGGLE_COMPOSER_MENU")(),Object(n.createStandardAction)("@chat/POPOUT_CHAT")(),Object(n.createStandardAction)("@chat/IS_POPOUT_CHAT")())}}]);
//# sourceMappingURL=6.pt-BR-283e20f2a03492a59aeb.bundle.js.map